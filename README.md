# ask-your-data
An intelligent data assistant that connects your `dbt` models with a natural language interface powered by Ollama and Streamlit. Ask questions, get autogenerated SQL based on your dbt YAML schema files, and explore data using Postgres â€” all locally or optionally with Docker.

---

## ğŸš€ Features

- ğŸ§  LLM-powered query generation using local [Ollama](https://ollama.com/)
- ğŸ—‚ Schema-aware interface using `dbt` model metadata
- ğŸ–¥ Streamlit-based frontend for interactive querying
- ğŸ˜ Persistent PostgreSQL for your warehouse
- ğŸ³ Docker-optional setup with flexible venv support

---

## ğŸ“ Project Structure
```
ask-your-data/
â”‚
â”œâ”€â”€ dbt_project/ # dbt models, macros, seeds, configs
â”‚ â”œâ”€â”€ dbt_project.yml
â”‚ â””â”€â”€ models/
â”‚
â”œâ”€â”€ streamlit_app/ # Streamlit UI for query interaction
â”‚ â””â”€â”€ app.py
â”‚
â”œâ”€â”€ scripts/ # Helper scripts (e.g., dbt schema parser)
â”‚ â””â”€â”€ gen_queries_from_dbt.py
â”‚
â”œâ”€â”€ Dockerfile # Optional container for dbt/streamlit (no GPU)
â”œâ”€â”€ docker-compose.yml # Persistent Postgres container
â”œâ”€â”€ requirements.txt # Python dependencies
â”œâ”€â”€ .env # Shared config (Postgres, Ollama, etc.)
â””â”€â”€ README.md
```

---

## âš™ï¸ Setup Instructions

### ğŸ§ª 1. Local (Recommended for GPU Use & Ollama)

```bash
# Clone repo
git clone https://github.com/yourname/dbt-ai-interface.git
cd dbt-ai-interface

# Create venv
python -m venv .venv
source .venv/bin/activate

# Install dependencies
pip install -r requirements.txt

# Start Postgres
docker-compose up -d postgres

# Initialize dbt
cd dbt_project
dbt debug
dbt run
```
---
#### Make sure Ollama is installed natively and the model is running:

```bash
ollama run qwen:7b  # or your preferred model
```

#### Start the Streamlit interface:

```bash
streamlit run streamlit_app/app.py
```
---

### ğŸ³ 2. Docker-Based (Optional for Non-GPU Users)
```bash
# Start database
docker-compose up -d

# Build container with dbt and Streamlit (no GPU)
docker build -t dbt-ai-app .

# Run dbt
docker run --rm \
  -v $(pwd):/app \
  -v $(pwd)/.venv:/opt/venv \
  --env-file .env \
  dbt-ai-app dbt run
```
You can also expose the Streamlit app from the container or run it natively.

---

## ğŸ“Œ Requirements

- Python 3.11+
- Ollama (installed natively for GPU)
- Docker (optional)
- dbt-core + dbt-postgres
- Streamlit

---

## ğŸ¤ Contributing

Coming soon. For now, feel free to explore and try the local setup!

---