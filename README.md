# ask-your-data
An intelligent data assistant that connects your `dbt` models with a natural language interface powered by Ollama and Streamlit. Ask questions, get autogenerated SQL based on your dbt YAML schema files, and explore data using Postgres — all locally or optionally with Docker.

---

## 🚀 Features

- 🧠 LLM-powered query generation using local [Ollama](https://ollama.com/)
- 🗂 Schema-aware interface using `dbt` model metadata
- 🖥 Streamlit-based frontend for interactive querying
- 🐘 Persistent PostgreSQL for your warehouse
- 🐳 Docker-optional setup with flexible venv support

---

## 📁 Project Structure
```
ask-your-data/
│
├── dbt_project/ # dbt models, macros, seeds, configs
│ ├── dbt_project.yml
│ └── models/
│
├── streamlit_app/ # Streamlit UI for query interaction
│ └── app.py
│
├── scripts/ # Helper scripts (e.g., dbt schema parser)
│ └── gen_queries_from_dbt.py
│
├── Dockerfile # Optional container for dbt/streamlit (no GPU)
├── docker-compose.yml # Persistent Postgres container
├── requirements.txt # Python dependencies
├── .env # Shared config (Postgres, Ollama, etc.)
└── README.md
```

---

## ⚙️ Setup Instructions

### 🧪 1. Local (Recommended for GPU Use & Ollama)

```bash
# Clone repo
git clone https://github.com/yourname/dbt-ai-interface.git
cd dbt-ai-interface

# Create venv
python -m venv .venv
source .venv/bin/activate

# Install dependencies
pip install -r requirements.txt

# Start Postgres
docker-compose up -d postgres

# Initialize dbt
cd dbt_project
dbt debug
dbt run
```
---
#### Make sure Ollama is installed natively and the model is running:

```bash
ollama run qwen:7b  # or your preferred model
```

#### Start the Streamlit interface:

```bash
streamlit run streamlit_app/app.py
```
---

### 🐳 2. Docker-Based (Optional for Non-GPU Users)
```bash
# Start database
docker-compose up -d

# Build container with dbt and Streamlit (no GPU)
docker build -t dbt-ai-app .

# Run dbt
docker run --rm \
  -v $(pwd):/app \
  -v $(pwd)/.venv:/opt/venv \
  --env-file .env \
  dbt-ai-app dbt run
```
You can also expose the Streamlit app from the container or run it natively.

---

## 📌 Requirements

- Python 3.11+
- Ollama (installed natively for GPU)
- Docker (optional)
- dbt-core + dbt-postgres
- Streamlit

---

## 🤝 Contributing

Coming soon. For now, feel free to explore and try the local setup!

---